// ==UserScript==
// @name         Bilibili发布人检测与GIF显示
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  检测Bilibili视频发布人，符合条件则显示GIF
// @author       YourName
// @match        *://www.bilibili.com/video/*
// @grant        GM_xmlhttpRequest
// @connect      api.bilibili.com
// ==/UserScript==


(function() {
    'use strict';

    // 这里将放置base64编码的GIF
    const turtleGifBase64 = "data:image/gif;base64,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";

    //获取up主id
    function getUpAvatarId() {
        // 获取 up-avatar 链接元素
        const upAvatarLink = document.querySelector('.up-avatar');

        if (upAvatarLink) {
            // 获取 href 属性
            const href = upAvatarLink.getAttribute('href');
            // 使用正则表达式提取 ID
            const idMatch = href.match(/(\d+)/);

            if (idMatch) {
                const upId = idMatch[1]; // 提取出的 ID
                console.log('发布人ID:', upId);
                return upId; // 返回 ID
            } else {
                console.warn('未找到发布人ID');
            }
        } else {
            console.warn('未找到 up-avatar 元素');
        }

        return null; // 如果未找到，返回 null
    }

    // 发送GET请求获取发布人动态
    function fetchRecentDynamics(host_mid) {
        const apiUrl = `https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/all?host_mid=${host_mid}`;

        GM_xmlhttpRequest({
            method: "GET",
            url: apiUrl,
            onload: function(response) {
                if (response.status === 200) {
                    const data = JSON.parse(response.responseText);
                    console.log('发布人最近的动态:', data);
                    // 检查动态中是否包含“京东”和“红包”
                    checkForKeywords(data.data); // 传递 data.data 进行检查
                } else {
                    console.error('获取动态失败:', response.statusText);
                }
            },
            onerror: function(error) {
                console.error('请求发生错误:', error);
            }
        });
    }
    function checkForKeywords(data) {
    // 检查 data 中是否存在 items
        if (data && data.items) {
            for (const item of data.items) {
                // 检查 type 是否为 DYNAMIC_TYPE_DRAW
                if (item.type === "DYNAMIC_TYPE_DRAW") {
                    // 获取模块动态中的 desc 的 text
                    const text = item.modules?.module_dynamic?.desc?.text;
                    if (text) {
                        // 检查 text 中是否包含“京东”和“红包”
                        if (text.includes("京东") && text.includes("红包")) {
                            showTurtleGif(); // 调用 showTurtleGif 方法
                            break; // 结束循环
                        }
                    }
                }
            }
        }
    }


   // 显示大乌龟GIF
    function showTurtleGif() {
        const gifDiv = document.createElement('div');
        const gifImg = document.createElement('img');
        gifImg.src = turtleGifBase64;  // 使用base64编码的GIF图片
        gifImg.style.width = '50vw'; // 设置宽度为屏幕宽度的50%
        gifImg.style.height = '50vh'; // 设置高度为屏幕高度的50%
        gifImg.style.objectFit = 'contain'; // 保持图片比例

        gifDiv.style.position = 'fixed';
        gifDiv.style.top = '50%';
        gifDiv.style.left = '50%';
        gifDiv.style.transform = 'translate(-50%, -50%)';
        gifDiv.style.zIndex = '9999';

        gifDiv.appendChild(gifImg);
        document.body.appendChild(gifDiv);
    }


    // 检查是否需要显示GIF
    function checkPublisher() {
        // 调用方法
        const hostMid = getUpAvatarId();
        if (hostMid) {
            fetchRecentDynamics(hostMid); // 调用 fetchRecentDynamics 方法
        }
    }

    // 页面加载完毕后检查发布人
    window.addEventListener('load', function() {
        setTimeout(checkPublisher, 1000); // 延迟执行，确保页面元素加载完毕
    });
})();
